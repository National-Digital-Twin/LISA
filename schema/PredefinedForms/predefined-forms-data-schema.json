{
  "forms": [
    {
      "type": "action",
      "dataSchema": {
        "title": "Action",
        "type": "object",
        "properties": {
          "communicationMethod": {
            "title": "Communicated By",
            "type": "string",
            "enumNames": [
              "Email received",
              "Email sent",
              "Telephone call received",
              "Telephone call made",
              "Provided to me in person",
              "Provided by me in person"
            ],
            "enum": [
              "Email",
              "EmailOutgoing",
              "Telephone",
              "TelephoneOutgoing",
              "Provided to me in person",
              "Provided by me in person"
            ]
          },
          "contactName": {
            "title": "Correspondent's name",
            "type": "string"
          }
        },
        "required": [
          "communicationMethod",
          "contactName"
        ],
        "dependencies": {
          "communicationMethod": {
            "oneOf": [
              {
                "properties": {
                  "communicationMethod": {
                    "const": "Email"
                  },
                  "contactDetails": {
                    "title": "From email address",
                    "type": "string"
                  }
                },
                "required": [
                  "contactDetails"
                ]
              },
              {
                "properties": {
                  "communicationMethod": {
                    "const": "EmailOutgoing"
                  },
                  "contactDetails": {
                    "title": "To email address",
                    "type": "string"
                  }
                },
                "required": [
                  "contactDetails"
                ]
              },
              {
                "properties": {
                  "communicationMethod": {
                    "const": "Telephone"
                  },
                  "contactDetails": {
                    "title": "Telepone number of caller",
                    "type": "string"
                  }
                },
                "required": [
                  "contactDetails"
                ]
              },
              {
                "properties": {
                  "communicationMethod": {
                    "const": "TelephoneOutgoing"
                  },
                  "contactDetails": {
                    "title": "Telephone number called",
                    "type": "string"
                  }
                },
                "required": [
                  "contactDetails"
                ]
              }
            ]
          }
        }
      }
    },
    {
      "type": "communication",
      "dataSchema": {
        "title": "Communication",
        "type": "object",
        "properties": {
          "communicationMethod": {
            "title": "Communicated By",
            "type": "string",
            "enumNames": [
              "Email received",
              "Email sent",
              "Telephone call received",
              "Telephone call made",
              "Provided to me in person",
              "Provided by me in person"
            ],
            "enum": [
              "Email",
              "EmailOutgoing",
              "Telephone",
              "TelephoneOutgoing",
              "Provided to me in person",
              "Provided by me in person"
            ]
          },
          "contactName": {
            "title": "Correspondent's name",
            "type": "string"
          }
        },
        "required": [
          "communicationMethod",
          "contactName"
        ],
        "dependencies": {
          "communicationMethod": {
            "oneOf": [
              {
                "properties": {
                  "communicationMethod": {
                    "const": "Email"
                  },
                  "contactDetails": {
                    "title": "From email address",
                    "type": "string"
                  }
                },
                "required": [
                  "contactDetails"
                ]
              },
              {
                "properties": {
                  "communicationMethod": {
                    "const": "EmailOutgoing"
                  },
                  "contactDetails": {
                    "title": "To email address",
                    "type": "string"
                  }
                },
                "required": [
                  "contactDetails"
                ]
              },
              {
                "properties": {
                  "communicationMethod": {
                    "const": "Telephone"
                  },
                  "contactDetails": {
                    "title": "Telepone number of caller",
                    "type": "string"
                  }
                },
                "required": [
                  "contactDetails"
                ]
              },
              {
                "properties": {
                  "communicationMethod": {
                    "const": "TelephoneOutgoing"
                  },
                  "contactDetails": {
                    "title": "Telephone number called",
                    "type": "string"
                  }
                },
                "required": [
                  "contactDetails"
                ]
              }
            ]
          }
        }
      }
    },
    {
      "type": "decision",
      "dataSchema": {
        "title": "Decision",
        "type": "object",
        "properties": {
          "communicationMethod": {
            "title": "How was the decision communicated?",
            "type": "string",
            "enumNames": [
              "Email received",
              "Email sent",
              "Telephone call received",
              "Telephone call made",
              "Provided to me in person",
              "Provided by me in person"
            ],
            "enum": [
              "Email",
              "EmailOutgoing",
              "Telephone",
              "TelephoneOutgoing",
              "Provided to me in person",
              "Provided by me in person"
            ]
          },
          "contactName": {
            "title": "Correspondent's name",
            "type": "string"
          }
        },
        "required": [
          "communicationMethod",
          "contactName"
        ],
        "dependencies": {
          "communicationMethod": {
            "oneOf": [
              {
                "properties": {
                  "communicationMethod": {
                    "const": "Email"
                  },
                  "contactDetails": {
                    "title": "From email address",
                    "type": "string"
                  }
                },
                "required": [
                  "contactDetails"
                ]
              },
              {
                "properties": {
                  "communicationMethod": {
                    "const": "EmailOutgoing"
                  },
                  "contactDetails": {
                    "title": "To email address",
                    "type": "string"
                  }
                },
                "required": [
                  "contactDetails"
                ]
              },
              {
                "properties": {
                  "communicationMethod": {
                    "const": "Telephone"
                  },
                  "contactDetails": {
                    "title": "Telepone number of caller",
                    "type": "string"
                  }
                },
                "required": [
                  "contactDetails"
                ]
              },
              {
                "properties": {
                  "communicationMethod": {
                    "const": "TelephoneOutgoing"
                  },
                  "contactDetails": {
                    "title": "Telephone number called",
                    "type": "string"
                  }
                },
                "required": [
                  "contactDetails"
                ]
              }
            ]
          }
        }
      }
    }
  ]
}
